<!DOCTYPE html>
<html>
<head>
	<title>table test</title>
	<link rel="stylesheet" href="../static/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/css/bootstrap-table.css">
</head>
<body>
	<div id="toolbar"></div>
	<div class="table-responsive">
		<table id="table"></table>
	</div>

	<!-- 模态框（Modal） -->
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
			aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"
							aria-hidden="true">&times;</button>
						<h4 class="modal-title" id="myModalLabel">修改信息</h4>
					</div>
					<div class="modal-body">
						学号：<input type="text" name="eid" id="eid" readonly="true" /><br/>
						名字：<input type="text" name="ename" id="ename" /> <br />
						价格：<input type="text" name="eprice" id="eprice" /> 
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
						<button type="button" class="btn btn-primary" onclick="update()">提交更改</button>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal -->
		</div>
		<!-- 模态框（Modal）end -->
	<script src="../static/js/jquery-2.1.1.min.js"></script>
	<script src="../static/js/bootstrap.min.js"></script>
	<script src="../static/js/bootstrap-table.js"></script>
	<script type="text/javascript">
		$("#table").bootstrapTable({
			toolbar: '#toolbar',
			search: true, //是否显示 搜索框
			showRefresh: true,//是否显示 刷新按钮
			showColumns: true, //是否显示 选择显示列按钮
            pagination: true,  //设置分页
            idField: "id",   //重要---可设置checkbox的值为指定字段
            clickToSelect:true,//设置true 将在点击行时，自动选择checkbox
            striped:true,//是否显示 表格条纹
            //height: 1000,                        //行高，如果没有设置height属性，表格自动根据记录条数觉得表格高度
            pageList:[5,10,15,20],
            pageSize:5,
            selectItemName:"id",    //设置checkbox name属性，可用于遍历获取选中值
            exportDataType:'all',
            showExport: true,  //是否显示导出按钮
            exportTypes:['excel'],  //导出文件类型  
            //buttonsAlign:"left",  //按钮位置 
            Icons:'glyphicon-export',  
            exportOptions:{  
                   fileName: 'CategoryList',  //设置导出文件名称  
                   worksheetName: 'sheet1',  //表格工作区名称  
                   tableName: 'CategoryList',
                   excelstyles: ['background-color', 'color', 'font-size', 'font-weight']
            }, 
			columns:[{
                checkbox: true,
            },{
				field : 'id',
				title : 'Item id'
			},{
		        field: 'name',
		        title: 'Item Name'
		    }, {
		        field: 'price',
		        title: 'Item Price'
		    }, {
		    	field: 'operation',
		    	title: '操作',
		    	align: 'center',
		    	valign: 'middle',
		    	formatter: function(value,row,index){
		    		return "<a href='#' data-toggle='modal' onclick='editItem(\""+row.id+"\",\""+row.name+"\",\""+row.price+"\")'>修改</a>"
		    	}
		    }],
		    data: [{
		        id: '1',
		        name: 'Item 1',
		        price: '$1'
		    }, {
		        id: '2',
		        name: 'Item 2',
		        price: '$2'
		    }, {
		        id: '2',
		        name: 'Item 2',
		        price: '$2'
		    }, {
		        id: '2',
		        name: 'Item 2',
		        price: '$2'
		    }, {
		        id: '2',
		        name: 'Item 2',
		        price: '$2'
		    }, {
		        id: '2',
		        name: 'Item 2',
		        price: '$2'
		    }, {
		        id: '2',
		        name: 'Item 2',
		        price: '$2'
		    }, {
		        id: '2',
		        name: 'Item 2',
		        price: '$2'
		    }, {
		        id: '2',
		        name: 'Item 2',
		        price: '$2'
		    }, {
		        id: '2',
		        name: 'Item 2',
		        price: '$2'
		    }, {
		        id: '2',
		        name: 'Item 2',
		        price: '$2'
		    }]
		});

		function editItem(id,name,price){
			$("#eid").val(id);
			$("#ename").val(name);
			$("#eprice").val(price);
			$("#myModal").modal("show");
		}
	</script>
</body>
</html>